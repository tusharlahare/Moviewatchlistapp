{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Dell\\\\OneDrive\\\\Desktop - Copy\\\\BE LAST YEAR\\\\movie-watchlist-app\\\\movie-watchlist-app\\\\src\\\\pages\\\\MovieDetails.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useMovie } from '../contexts/MovieContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MovieDetails() {\n  _s();\n  var _watchlist$user;\n  const {\n    id\n  } = useParams();\n  const {\n    getMovieDetails,\n    addToWatchlist,\n    removeFromWatchlist,\n    watchlist\n  } = useMovie();\n  const {\n    user\n  } = useAuth();\n  const [movie, setMovie] = useState(null);\n  useEffect(() => {\n    const fetchMovie = async () => {\n      if (id) {\n        const data = await getMovieDetails(id);\n        setMovie(data);\n      }\n    };\n    fetchMovie();\n  }, [id, getMovieDetails]);\n  if (!movie) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }, this);\n  }\n  const isInWatchlist = user && ((_watchlist$user = watchlist[user]) === null || _watchlist$user === void 0 ? void 0 : _watchlist$user.some(m => m.imdbID === movie.imdbID));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: movie.Title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: movie.Poster,\n      alt: movie.Title,\n      className: \"w-full h-96 object-cover mb-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Year:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), \" \", movie.Year]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Plot:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), \" \", movie.Plot]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), user && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => isInWatchlist ? removeFromWatchlist(user, movie.imdbID) : addToWatchlist(user, movie),\n      className: `mt-4 ${isInWatchlist ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'} text-white px-4 py-2 rounded`,\n      children: isInWatchlist ? 'Remove from Watchlist' : 'Add to Watchlist'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(MovieDetails, \"/as/Ia/t2aM8wI5FJrMvvrjM5YQ=\", false, function () {\n  return [useParams, useMovie, useAuth];\n});\n_c = MovieDetails;\nvar _c;\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","useEffect","useState","useParams","useMovie","useAuth","jsxDEV","_jsxDEV","MovieDetails","_watchlist$user","id","getMovieDetails","addToWatchlist","removeFromWatchlist","watchlist","user","movie","setMovie","fetchMovie","data","children","fileName","lineNumber","columnNumber","isInWatchlist","some","m","imdbID","className","Title","src","Poster","alt","Year","Plot","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Dell/OneDrive/Desktop - Copy/BE LAST YEAR/movie-watchlist-app/movie-watchlist-app/src/pages/MovieDetails.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useMovie } from '../contexts/MovieContext'\r\nimport { useAuth } from '../contexts/AuthContext'\r\n\r\ninterface MovieDetails {\r\n  imdbID: string\r\n  Title: string\r\n  Year: string\r\n  Poster: string\r\n  Plot: string\r\n}\r\n\r\nexport default function MovieDetails() {\r\n  const { id } = useParams<{ id: string }>()\r\n  const { getMovieDetails, addToWatchlist, removeFromWatchlist, watchlist } = useMovie()\r\n  const { user } = useAuth()\r\n  const [movie, setMovie] = useState<MovieDetails | null>(null)\r\n\r\n  useEffect(() => {\r\n    const fetchMovie = async () => {\r\n      if (id) {\r\n        const data = await getMovieDetails(id)\r\n        setMovie(data)\r\n      }\r\n    }\r\n    fetchMovie()\r\n  }, [id, getMovieDetails])\r\n\r\n  if (!movie) {\r\n    return <div>Loading...</div>\r\n  }\r\n\r\n  const isInWatchlist = user && watchlist[user]?.some((m) => m.imdbID === movie.imdbID)\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">{movie.Title}</h2>\r\n      <img src={movie.Poster} alt={movie.Title} className=\"w-full h-96 object-cover mb-4\" />\r\n      <p className=\"mb-2\">\r\n        <strong>Year:</strong> {movie.Year}\r\n      </p>\r\n      <p className=\"mb-2\">\r\n        <strong>Plot:</strong> {movie.Plot}\r\n      </p>\r\n      {user && (\r\n        <button\r\n          onClick={() => (isInWatchlist ? removeFromWatchlist(user, movie.imdbID) : addToWatchlist(user, movie))}\r\n          className={`mt-4 ${\r\n            isInWatchlist ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'\r\n          } text-white px-4 py-2 rounded`}\r\n        >\r\n          {isInWatchlist ? 'Remove from Watchlist' : 'Add to Watchlist'}\r\n        </button>\r\n      )}\r\n    </div>\r\n  )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}